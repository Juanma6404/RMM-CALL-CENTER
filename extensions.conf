;
; Dialplan Configuration File
;
[general]
[phones]
exten => 600,1,Answer
same => n,Playback(demo-echotest)
same => n,Echo
same => n,Playback(demo-echotest)
same => n,Hangup


exten => 500,1,Answer(1000)        
same=>n,Set(NUM1=101)
same=>n,GotoIf($[${CALLERID(num)}>${NUM1}]?mayor:)
same=>n,GotoIf($[${CALLERID(num)}<${NUM1}]?menor:)
same=>n,SayNumber(${NUM1})
same=>n,Hangup
same=>n(mayor),Playback(greater-than)
same=>n,SayNumber(${NUM1})
same=>n,Hangup
same=>n(menor),Playback(less-than)
same=>n,SayNumber(${NUM1})
same=>n,Hangup


exten => 501,1,Answer
same => n,GotoIf($[${DB_EXISTS(noMolestar/activado)}]?cont)
same => n,Set(DB(noMolestar/activado)=0)
same => n(cont),GotoIf($[${DB(noMolestar/activado)}=1]?desactivar:activar)
same => n(desactivar),Set(DB(noMolestar/activado)=0)
same => n, Playback(do-not-disturb)
same => n, Playback(disabled)
same => n,Hangup
same => n(activar),Set(DB(noMolestar/activado)=1)
same => n, Playback(do-not-disturb)
same => n, Playback(enabled)
same => n,Hangup

exten => 700,1,Answer(1000)
same => n,Set(COUNT=10)
same => n(repeat),Set(CND1=$[${COUNT}%2])
same => n,GotoIf($[${CND1}=1]?label1)
same => n,SayNumber(${COUNT})
same => n(label1),Verbose(${DEC(COUNT)})
same => n,Goto(repeat)







exten => _1XX,1,Dial(PJSIP/${EXTEN},5,m(dinner))
same => n,GotoIf($[${DIALSTATUS}=BUSY]?busy)
same => n,VoiceMail(${EXTEN}@vmphones,u)
same => n,Hangup
same => n(busy),VoiceMail(${EXTEN}@vmphones,b)
same => n,Hangup


exten => 800,1,Goto(menu,s,1)
[menu]
exten => s,1,Answer(1000)
same => n(loop),Background(press-1&or&press-2&or&press-3)
same => n,WaitExten(12)

exten => 1,1,SayNumber(${EXTEN})
same => n,GotoIf($[${DIALSTATUS}=BUSY]?busy)
same => n,VoiceMail(${CALLERID(num)}@vmphones,u)
same => n,Hangup
same => n(busy),VoiceMail(${CALLERID(num)}@vmphones,b)
same => n,Hangup

exten => 2,1,SayNumber(${EXTEN})
same => n,GotoIf($[${DB_EXISTS(noMolestar/activado)}]?cont)
same => n,Set(DB(noMolestar/activado)=0)
same => n(cont),GotoIf($[${DB(noMolestar/activado)}=1]?desactivar:activar)
same => n(desactivar),Set(DB(noMolestar/activado)=0)
same => n, Playback(do-not-disturb)
same => n, Playback(disabled)
same => n,Hangup
same => n(activar),Set(DB(noMolestar/activado)=1)
same => n, Playback(do-not-disturb)
same => n, Playback(enabled)
same => n,Hangup

exten => 3,1,SayNumber(${EXTEN})
same => n,Set(FECHA_HORA=${STRFTIME(${EPOCH},,%Y-%m-%d %H:%M:%S)}) ; Obtiene la fecha y hora actual y la formatea
same => n,Playback(fecha-hora-${FECHA_HORA}) ; Reproduce la fecha y hora obtenida
same => n,Hangup

exten => i,1,Playback(invalid)
same => n,Goto(s,loop)

exten => t,1,Playback(goodbye)
same => n,Hangup





